<html ng-app="myModule">
<head>

<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>  -->

<script src="./scripts/angular.min.js"></script>
<script src="./scripts/myScript.js"></script>
<link rel="stylesheet" href="./style/myStyle.css" > 
</head>
<body>
	<div id="main" ng-controller="myController">
		
		<div>
			<h1> Two way binding</h1>
			<p>When the view is updated the model is updated  </p>
			<input type="text" ng-model="location.name" />
			<p>{{ location.name }}</p>
			<!-- two way data binding ends -->

			<p>{{ location.capital }}</p>
			<p>{{ greeting }}</p>
			<img ng-src="{{ location.flag }}" alt="{{ location.name + ' Flag'}} "/>
		</div>

		<div>
			<h1>Iteration</h1>
			<table>
				<thead>
					<tr>
						<td>firstname</td>
						<td>lastname</td>
						<td>gender</td>
						<td>salary</td>
					</tr>
				</thead>
				<tbody>
						<!-- foreach loop -->
						<tr ng-repeat="employee in employees"> 
							<td>{{ employee.firstName }}</td>
							<td>{{ employee.lastName }}</td>
							<td>{{ employee.gender }}</td>
							<td>{{ employee.salary }}</td>
						</tr>
				</tbody>
			</table>

			<h3>Parent and Child index</h3>
			<ul>
				<!-- to get parent index -->
				<!-- $parent.$index or ng-init="parentIndex = $index"  -->
				<li ng-repeat="country in countries" ng-init = "parentIndex = $index" > 
					{{ country.name }} - index = {{ $index }}
					<ul>
						<li ng-repeat = "city in country.cities" >
							<br /> ParentIndex Method 1 --- index =  {{ $parent.$index }}
							<br />ParentIndex Method 2 --- index = {{ parentIndex }}
							<br />Loop Method -- {{ city.name }} -  index = {{ $index }}
						</li>
					</ul>
				</li>
			</ul>
		</div>

		<div>
			<h3>Event handler </h3>
			<p>name -- Likes --  Dislikes -- Like/Dislike</p>
			<p ng-repeat="technology in technologies">
				{{ technology.name }} 
				{{ technology.likes }}
				{{ technology.dislikes }}
				<input type="button" value="Like" ng-Click="incrementLikes(technology)" />
				<input type="button" value="Dislike" ng-Click="incrementDislikes(technology)" />
			</p> 
		</div>

		<div>
			<h1>Filters</h1>
			<p>Filter can format, sort and filter data</p>
			<p>Filter can be used with a binding expression or a directive</p>
			<p>To apply filter use | (pipe) character</p>
			<p>{{ expression }} | filterName: parameter</p>
			<p>Filter for formatting data
				lowercase, uppercase, number, currency,date
			</p>
			<p>limitTo filter: limit num of rows or chars in string
				{{ expression | limitTo: limit : begin }}
			</p>

			<hr>

			Rows to display: <input type="number" step="1" min="0" max="4" ng-model="rowLimit" />
			<br /><br />
			Order By: <select ng-model="sortColumn">
						<option value="name">name</option>
						<option value="birth">birth</option>
						<option value="gender">gender</option>
						<option value="salary">salary</option>
					  </select>
			<table>
				<thead>
					<tr>
						<td ng-click="sortData('name')">Name <span ng-class="getSortClass('name')"></span></td>
						<td ng-click="sortData('birth')">Day of Birth <span ng-class="getSortClass('birth')"></span></td>
						<td ng-click="sortData('gender')">Gender <span ng-class="getSortClass('gender')"></span></td>
						<td ng-click="sortData('salary')">Salary (number) <span ng-class="getSortClass('salary')"></span></td>
						<td ng-click="sortData('salary')">Salary (currency) <span ng-class="getSortClass('salary')"></span></td>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="employee in employees | limitTo:rowLimit:1 | orderBy:sortColumn:reverseSort">
						<td>{{employee.firstName}}</td>
						<td>{{employee.birth | date:"dd/MM/yyyy"}}</td>
						<td>{{employee.gender}}</td>
						<td>{{employee.salary | number:2}}</td>
						<td>{{employee.salary | currency:"&pound;":1}}</td>

					</tr>
				</tbody>
			</table>


		</div>

		<div>
			<table>
				<thead>
					<tr ng-repeat="a in animal | limitTo:1">
						<td ng-repeat="(k,v) in a" ng-click="animalSortData(k)">
							{{ k }} <span ng-class="getAnimalSortClass(k)"></span>
						</td>
					</tr>
				</thead>

				<tbody>
					<tr ng-repeat="a in animal | orderBy:animalSortColumn:animalreverseSort">
						<td ng-repeat="(k,v) in a" >{{ v }}</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div>
			<h1>Searching...</h1>
			Search <input type="text" placeholder="Search employee" ng-model="searchEmployee.firstName" />
			<input type="checkbox" ng-model="exactMatch"/>
			<table>
				<thead>
					<tr>
						<td>firstname</td>
						<td>lastname</td>
						<td>gender</td>
						<td>salary</td>
					</tr>
				</thead>
				<tbody>
						<!-- foreach loop -->
						<tr ng-repeat="employee in employees | filter:searchEmployee:exactMatch"> 
							<td>{{ employee.firstName }}</td>
							<td>{{ employee.lastName }}</td>
							<td>{{ employee.gender }}</td>
							<td>{{ employee.salary }}</td>
						</tr>
				</tbody>
			</table>


			<h3>Search first and last name only</h3>
			<input type="text" placeholder="Search in first and last name" ng-model="searchEmployee2"/>
			<table>
				<thead>
					<tr>
						<td>firstname</td>
						<td>lastname</td>
						<td>gender</td>
						<td>salary</td>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="employee in employees | filter:employeeSearch"> 
						<td>{{ employee.firstName }}</td>
						<td>{{ employee.lastName }}</td>
						<td>{{ employee.gender }}</td>
						<td>{{ employee.salary }}</td>
					</tr>
				</tbody>
			</table>


		</div>
		<!-- end of Main div  ng-controller -->
	
	<div id="footer"></div>

	</div>
</body>
</html>
